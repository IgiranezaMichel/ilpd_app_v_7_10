@(applieds :List[Applied],session: models.Session,s: String)

@import scala.Predef;var inc=1;var pay=0.0;var paid=0.0;var remain=0.0;
@main("Report by program",""){
    <!-- Main content -->
    <div class="content">
        <div class="invoice">

            <div class="row">
                <div class="row no-print">
                    <div class="col-xs-12">
                    @shared.printButton.render()
                    </div>
                </div>
                <div class="col-xs-12">
                @shared.ildpHeader.render()
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <h4 class="text-blue">
                        Students report by @s in @session.sessionName ( Session )
                        <small class="pull-right">Date: @(new Date().format("dd-MM-yyyy"))</small>
                    </h4>
                    <table class="table  table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Name</th>
                                <th>Reg number</th>
                                <th>Amount to pay</th>
                                <th>Amount paid</th>
                                <th>Amount remain</th>
                                <th>Program</th>
                                <th>Campus</th>
                                <th>Gender</th>
                            </tr>
                        </thead>
                        <tbody>
                        @for(applicant <- applieds) {
                            @if(applicant != null && applicant.applicant.checkStatus(s) ) {
                                <tr>
                                    <td>@inc</td>
                                    <td>@applicant.applicant.toString</td>
                                    <td>
                                        @if(applicant.applicant != null){
                                            @applicant.applicant.regNo()
                                        }else{
                                            <small class="label bg-orange">NO REG N<sup><u>0</u></sup> PROVIDED</small>
                                        }
                                    </td>
                                    <td>@Counts.formatAmount(applicant.applicant.getAmountToPay) </td>
                                    <td>@Counts.formatAmount(applicant.applicant.getTotalAmountPaid) </td>
                                    <td>@Counts.formatAmount(applicant.applicant.getTotalAmountRemain) </td>
                                    <td>@applicant.applicant.applied.training.iMode.campusProgram.program.programAcronym</td>
                                    <td>@applicant.applicant.applied.training.iMode.campusProgram.campus.campusName</td>
                                    <td>@applicant.applicant.gender</td>
                                </tr>
                                @(pay = pay + applicant.applicant.getAmountToPay)
                                @(paid = paid + applicant.applicant.getTotalAmountPaid)
                                @(remain = remain + applicant.applicant.getTotalAmountRemain)
                                @(inc = inc + 1)
                            }
                        }
                            <tr>
                                <th>No</th>
                                <th>Name</th>
                                <th>Reg number</th>
                                <th>@Counts.formatAmount(pay) </th>
                                <th>@Counts.formatAmount(paid) </th>
                                <th>@Counts.formatAmount(remain) </th>
                                <th>Program</th>
                                <th>Campus</th>
                                <th>Gender</th>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <h6 class="text-red">
                        <i class="fa fa-info-circle"></i>
                        <center>This report has generated by ILPD MIS, there is no need of stamp or signature</center>
                    </h6>
                </div>
                <div class="col-xs-12">
                    <p class="main-footer text-center">
                        <small>P.O. Box 49, Avenue des Sports, Nyanza, Southern Province, Rwanda
                            <br>
                            E: info@@ilpd.ac.rw / W: www.ilpd.ac.rw</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
}


<script type="text/javascript">
        window.print();
</script>
